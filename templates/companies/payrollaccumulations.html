{% extends 'base/base_companies.html' %}
{% load crispy_forms_tags %}

{% block title %}
    Nomiweb.co - Portal Empresas -nomina
{% endblock %}

{% block css %}
{% endblock %}

{% block sub_titulo1 %} 
    Nomina
{% endblock %}

{% block sub_titulo2 %} 
    Acumulados de Nomina
{% endblock %}

{% block titulo2 %} 
    Filtrados
{% endblock %}

{% block content %}

<div class="container">
    <div class="card shadow-sm">
        <div class="card-header">
            <h3 class="card-title">Acumulados de Nomina - Filtros </h3>
        </div>
        <div class="card-body">
            {% crispy form %}
        </div>
    </div>
    <br>
    <br>
    <div class="separator  border-0 my-10"></div>
    
    <div  class="table-responsive">
        <table id='tabla-liquidacion' class="table table-striped table-bordered">
            <thead>
                <tr>
                <th>Idcontrato</th>
                <th>Docidentidad</th>
                <th>Empleado</th>
                <th>Basico</th>
                <th>Aportes</th>
                <th>Prestamos</th>
                <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for compect in compects %}
                    <tr>
                        <td>{{ compect.contrato  }}</td>
                        <td>{{ compect.documento }}</td>
                        <td>{{ compect.empleado  }}</td>
                        <td>{{ compect.basico    }}</td>
                        <td>{{ compect.aportess  }}</td>
                        <td>{{ compect.prestamos }}</td>
                        <td>{{ compect.total     }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
                

        </table>
    </div>
</div>

{% endblock %}

{% block js %}


<script>
    $(document).ready(function() {
        $('#Filto_acomulados').on('submit', function() {
            $('#loadingModal').modal('show');
        });
    });
</script>


<script>
    $(document).ready(function() {
        $('#tabla-liquidacion').DataTable({
            language: {
                "decimal":        "",
                "emptyTable":     "No se encontraron registros coincidentes",
                "info":           "Mostrando _START_ a _END_ de _TOTAL_ entradas",
                "infoEmpty":      "Mostrando 0 a 0 de 0 entradas",
                "infoFiltered":   "(filtrado de _MAX_ entradas totales)",
                "infoPostFix":    "",
                "thousands":      ",",
                "lengthMenu":     "Mostrar _MENU_ entradas",
                "loadingRecords": "Cargando...",
                "processing":     "Procesando...",
                "search":         "Buscar:",
                "zeroRecords":    "No se encontraron registros coincidentes",
                "paginate": {
                    "first":      "Primero",
                    "last":       "Ãšltimo",
                    "next":       "Siguiente",
                    "previous":   "Anterior"
                },
                "aria": {
                    "sortAscending":  ": activar para ordenar la columna ascendente",
                    "sortDescending": ": activar para ordenar la columna descendente"
                }
            },
            dom: 'frtip',
            order: [[5, 'des']], 
            "pageLength": 10,                
        });
    });
</script>



{% endblock %}
